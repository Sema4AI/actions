# Action Server Developer Toolkit
#
# Build action-server using RCC for isolated, reproducible builds.
#
# Usage:
#   rcc run -r developer/toolkit.yaml -t community
#   rcc run -r developer/toolkit.yaml -t enterprise

tasks:
  community:
    shell: python call_invoke.py build-community

  enterprise:
    shell: python call_invoke.py build-enterprise

  frontend-test:
    shell: bash -c "cd ../frontend && npm ci && npm run test"

  frontend-install:
    shell: bash -c "cd ../frontend && npm ci"

environmentConfigs:
  - setup.yaml

artifactsDir: tmp

PATH:
PYTHONPATH:
ignoreFiles:
  - .gitignore
